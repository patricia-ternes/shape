Search.setIndex({"docnames": ["data_prep", "dependencies", "enriching", "index", "input", "modules", "output", "setup", "usage"], "filenames": ["data_prep.rst", "dependencies.rst", "enriching.rst", "index.rst", "input.rst", "modules.rst", "output.rst", "setup.rst", "usage.rst"], "titles": ["Data Preparation Module", "Dependencies", "Enriching Population Module", "Welcome to SHAPE\u2019s documentation!", "Required Datasets", "SHAPE API Reference", "Output", "Setup", "Usage Guide"], "terms": {"shape": [0, 2, 6, 7], "wrangl": 0, "creat": [0, 2, 4, 7], "thursdai": [0, 2], "august": [0, 2], "25": [0, 2], "2022": [0, 2, 4], "author": [0, 2, 4, 6], "patricia": [0, 2, 7], "tern": [0, 2, 7], "class": [0, 2], "data_prepar": [0, 7], "epc": [0, 2, 5, 6, 7, 8], "oacd_lookup": 0, "ladnm_lookup": 0, "ladcd_lookup": 0, "sourc": [0, 2], "base": [0, 2], "object": [0, 2], "repres": 0, "relat": [0, 4], "paramet": [0, 2], "method": [0, 2], "get_epc_datafram": 0, "datafram": [0, 2], "get": [0, 2], "all": [0, 2, 4], "avail": [0, 4], "england": [0, 4], "local": [0, 2, 4, 6, 7], "note": [0, 4], "1": [0, 1, 2], "you": [0, 4, 7], "need": [0, 4, 7], "valid": [0, 2, 6], "zip": [0, 2], "dataset": [0, 2], "2": [0, 1], "The": [0, 2, 4, 6, 7], "code": [0, 2], "wa": 0, "organ": 0, "follow": [0, 4, 7], "tree": 0, "domest": [0, 4], "certif": [0, 4], "__": 0, "licenc": 0, "txt": 0, "xyyyyyyyi": 0, "ladnam": 0, "recommend": 0, "csv": [0, 2], "return": [0, 2], "A": 0, "frame": 0, "collect": 0, "rtype": [0, 2], "panda": [0, 1, 2], "static": [0, 2], "remove_dupl": 0, "df": [0, 2], "remov": 0, "duplic": 0, "when": [0, 4], "us": [0, 2, 4, 6, 7], "we": [0, 4, 7], "care": 0, "same": [0, 2, 4], "properti": [0, 4], "while": 0, "an": [0, 2, 4, 7], "enorm": 0, "issu": [0, 4], "i": [0, 2, 4, 7], "up": [0, 4], "10": 0, "year": 0, "unless": 0, "renov": 0, "retrofit": 0, "mai": 0, "multipl": 0, "record": 0, "especi": 0, "rental": 0, "which": 0, "ar": [0, 2, 4, 6], "improv": 0, "meet": 0, "recent": 0, "regul": 0, "thi": [0, 2, 4, 7], "function": [0, 2], "build": [0, 4], "refer": [0, 3, 4], "number": [0, 2, 4], "select": [0, 4], "most": [0, 4], "discard": 0, "other": [0, 4], "raw": 0, "without": 0, "type": [0, 2, 4, 7], "set_categorical_cod": 0, "df_col": 0, "lookup": [0, 8], "renam": 0, "fals": 0, "appli": 0, "categor": 0, "column": [0, 2], "transform": [0, 2], "valu": [0, 2], "dictionari": 0, "input": [0, 2, 3, 4, 8], "string": [0, 2], "dict": 0, "from": [0, 2, 7], "bool": [0, 2], "option": [0, 2], "new": [0, 2], "name": [0, 2], "after": 0, "keep": 0, "current": [0, 7], "default": [0, 2], "updat": 0, "set_geo_lookup": 0, "add": [0, 2], "geograph": [0, 8], "inform": [0, 4], "postcod": [0, 4], "output": [0, 3, 4, 8], "area": [0, 2, 4], "oa": [0, 2, 4], "ladnm": 0, "ladcd": 0, "set_lookup": 0, "tenur": [0, 4], "accommod": [0, 2, 4], "construct": [0, 4], "ag": [0, 2, 4], "band": [0, 4], "main": [0, 2, 4, 7], "ga": [0, 4], "flag": 0, "floor": [0, 2, 4], "variabl": 0, "accommodation_lookup": 0, "age_categorical_lookup": 0, "age_numerical_lookup": 0, "floor_area_lookup": 0, "gas_lookup": 0, "tenure_lookup": 0, "area_lookup": 0, "set_numerical_cod": 0, "numer": 0, "rule": 0, "j": 0, "k": 0, "structur": 0, "i1": 0, "j1": 0, "k1": 0, "i2": 0, "j2": 0, "k2": 0, "iN": 0, "jn": 0, "kn": 0, "where": 0, "desir": [0, 2], "n": [0, 4], "minimum": 0, "includ": [0, 4], "maximum": 0, "step": [0, 2], "process": [0, 4, 6], "perform": [0, 4], "re": 0, "categoris": 0, "per": 0, "spenser": [0, 2, 5, 7, 8], "get_spenser_datafram": 0, "set_new_tenur": 0, "temporari": 0, "sub": 0, "categori": 0, "own": 0, "outright": 0, "share": 0, "ownership": 0, "3": [0, 1], "merg": 0, "gener": [0, 2], "owner": 0, "occupi": 0, "origin": [0, 2, 4], "For": [0, 2], "each": [0, 2, 4], "given": [0, 2], "empti": 0, "non": 0, "row": [0, 2], "match": [0, 2], "augment": [0, 5], "x": 0, "simpl": 0, "translat": 0, "lambda": 0, "kei": 0, "If": [0, 7], "list": [0, 2, 4], "none": 0, "ani": 0, "geo_lookup": [0, 5, 7], "three": 0, "matplotlib": 1, "5": 1, "numpi": [1, 2], "21": 1, "4": 1, "python": [1, 7], "9": 1, "7": 1, "pip": 1, "pyyaml": 1, "6": 1, "0": [1, 2], "scikit": 1, "learn": 1, "seaborn": 1, "11": 1, "setuptool": 1, "58": 1, "causalinfer": 1, "psm": 2, "enriching_popul": [2, 7], "enrichingpopul": [2, 5, 7], "synthet": [2, 4], "To": [2, 4, 7], "combin": [2, 4], "two": [2, 4], "propens": 2, "score": 2, "approach": 2, "get_enriched_pop": 2, "pair": 2, "df1": 2, "df2": 2, "matches_column": 2, "data": [2, 3, 5, 6, 8], "assign": 2, "incorpor": 2, "get_match": 2, "distanc": 2, "indic": 2, "n_neighbor": 2, "neighbor": 2, "one": [2, 4], "have": [2, 4], "probabl": 2, "being": 2, "greater": 2, "differ": [2, 4, 6], "between": 2, "lower": 2, "drawn": 2, "weight": 2, "closest": 2, "integ": 2, "get_neighbor": 2, "get_propensity_scor": 2, "overlap_column": 2, "complet": [2, 4], "present": 2, "both": [2, 4], "ndarrai": 2, "save_csv_fil": 2, "list_df_nam": 2, "list_df": 2, "zip_nam": 2, "save": 2, "file": [2, 4, 7], "compress": 2, "store": [2, 4, 6], "save_validation_fig": 2, "intern": 2, "imag": [2, 6], "distribut": [2, 6], "comparison": 2, "set_area_factor": 2, "area_factor": 2, "factor": 2, "o": 2, "param": 2, "set_treat": 2, "df0": 2, "treatment": 2, "first": [2, 4], "second": 2, "In": [2, 4], "lad_cod": 2, "district": 2, "psm_fig": 2, "boolean": 2, "true": 2, "validation_fig": 2, "depend": 3, "requir": [3, 7, 8], "usag": 3, "guid": 3, "setup": [3, 8], "api": 3, "prepar": [3, 5], "modul": [3, 5, 7], "enrich": [3, 5, 6], "popul": [3, 4, 5, 6, 7], "index": 3, "search": 3, "page": 3, "befor": 4, "run": [4, 8], "model": [4, 8], "download": 4, "some": 4, "energi": 4, "household": 4, "uk": 4, "should": 4, "folder": [4, 6], "rate": 4, "scheme": 4, "summaris": 4, "effici": 4, "also": 4, "sever": 4, "can": [4, 7], "regist": 4, "here": 4, "provid": [4, 6, 7], "about": 4, "few": 4, "dozen": 4, "find": 4, "glossari": 4, "packag": [4, 6, 7], "property_typ": 4, "describ": 4, "hous": 4, "flat": 4, "maisonett": 4, "etc": 4, "built_form": 4, "e": 4, "g": 4, "detach": 4, "semi": 4, "terrac": 4, "construction_age_band": 4, "part": 4, "total_floor_area": 4, "total": 4, "m\u00b2": 4, "mains_gas_flag": 4, "whether": 4, "building_reference_numb": 4, "uniqu": 4, "identifi": 4, "lodgement_datetim": 4, "date": 4, "time": 4, "lodg": 4, "configur": [4, 7], "config": 4, "yaml": 4, "unencod": 4, "dure": 4, "execut": 4, "properli": 4, "encod": 4, "organis": 4, "tabl": 4, "fill": 4, "hand": 4, "possibl": 4, "typo": 4, "descript": 4, "thing": 4, "make": 4, "veri": 4, "difficult": 4, "term": 4, "found": 4, "31": 4, "march": 4, "estim": 4, "scenario": 4, "project": [4, 7], "iter": 4, "proport": 4, "fit": 4, "ipf": 4, "individu": 4, "middl": 4, "layer": 4, "super": 4, "msoa": 4, "level": 4, "2011": 4, "censu": 4, "evolv": 4, "dynam": 4, "microsimul": 4, "final": 4, "link": 4, "ha": 4, "size": 4, "room": 4, "bedroom": 4, "central": 4, "heat": 4, "sec": 4, "ethnic": 4, "group": 4, "person": 4, "http": [4, 7], "osf": 4, "io": 4, "623qz": 4, "_": 4, "guarante": 4, "compat": 4, "granular": 4, "initi": 4, "although": 4, "thei": 4, "therefor": 4, "ensur": 4, "recategor": 4, "four": 6, "log": 6, "miss": 6, "support": 7, "linux": 7, "start": 7, "work": 7, "repositori": 7, "clone": 7, "onto": 7, "your": 7, "machin": 7, "git": 7, "github": 7, "com": 7, "cd": 7, "easiest": 7, "wai": 7, "correct": 7, "conda": 7, "environ": 7, "env": 7, "f": 7, "yml": 7, "activ": 7, "next": 7, "instal": 7, "py": 7, "abov": 7, "command": 7, "defin": 7, "__main__": 7, "import": 7, "just": 7, "insid": 7, "directori": 7, "want": 7, "personalis": 7, "script": 7}, "objects": {"": [[0, 0, 0, "-", "data_preparation"], [2, 0, 0, "-", "enriching_population"]], "data_preparation": [[0, 1, 1, "", "Epc"], [0, 1, 1, "", "Spenser"], [0, 3, 1, "", "augment"], [0, 3, 1, "", "geo_lookup"]], "data_preparation.Epc": [[0, 2, 1, "", "get_epc_dataframe"], [0, 2, 1, "", "remove_duplicates"], [0, 2, 1, "", "set_categorical_code"], [0, 2, 1, "", "set_geo_lookups"], [0, 2, 1, "", "set_lookups"], [0, 2, 1, "", "set_numerical_code"], [0, 2, 1, "", "step"]], "data_preparation.Spenser": [[0, 2, 1, "", "get_spenser_dataframe"], [0, 2, 1, "", "set_geo_lookups"], [0, 2, 1, "", "set_new_tenure"], [0, 2, 1, "", "step"]], "enriching_population": [[2, 1, 1, "", "EnrichingPopulation"]], "enriching_population.EnrichingPopulation": [[2, 2, 1, "", "get_enriched_pop"], [2, 2, 1, "", "get_matches"], [2, 2, 1, "", "get_neighbors"], [2, 2, 1, "", "get_propensity_score"], [2, 2, 1, "", "save_csv_files"], [2, 2, 1, "", "save_validation_fig"], [2, 2, 1, "", "set_area_factor"], [2, 2, 1, "", "set_treatment"], [2, 2, 1, "", "step"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "titleterms": {"data": [0, 4], "prepar": 0, "modul": [0, 2], "depend": 1, "requir": [1, 4], "enrich": 2, "popul": 2, "welcom": 3, "shape": [3, 5], "": 3, "document": 3, "content": [3, 5, 8], "indic": 3, "tabl": 3, "dataset": 4, "epc": 4, "variabl": 4, "lookup": 4, "spenser": 4, "geograph": 4, "api": 5, "refer": 5, "output": 6, "setup": 7, "run": 7, "model": 7, "usag": 8, "guid": 8}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Data Preparation Module": [[0, "module-data_preparation"]], "Dependencies": [[1, "dependencies"]], "Required": [[1, "required"]], "Enriching Population Module": [[2, "module-enriching_population"]], "Welcome to SHAPE\u2019s documentation!": [[3, "welcome-to-shape-s-documentation"]], "Contents:": [[3, null], [5, null], [8, null]], "Indices and tables": [[3, "indices-and-tables"]], "Required Datasets": [[4, "required-datasets"]], "EPCs Data": [[4, "epcs-data"]], "EPC variables": [[4, "epc-variables"]], "EPC variables lookup": [[4, "epc-variables-lookup"]], "SPENSER Data": [[4, "spenser-data"]], "Geographic Lookup": [[4, "geographic-lookup"]], "SHAPE API Reference": [[5, "shape-api-reference"]], "Output": [[6, "output"]], "Setup": [[7, "setup"]], "Running the model": [[7, "running-the-model"]], "Usage Guide": [[8, "usage-guide"]]}, "indexentries": {"epc (class in data_preparation)": [[0, "data_preparation.Epc"]], "spenser (class in data_preparation)": [[0, "data_preparation.Spenser"]], "augment() (in module data_preparation)": [[0, "data_preparation.augment"]], "data_preparation": [[0, "module-data_preparation"]], "geo_lookup() (in module data_preparation)": [[0, "data_preparation.geo_lookup"]], "get_epc_dataframe() (data_preparation.epc method)": [[0, "data_preparation.Epc.get_epc_dataframe"]], "get_spenser_dataframe() (data_preparation.spenser method)": [[0, "data_preparation.Spenser.get_spenser_dataframe"]], "module": [[0, "module-data_preparation"], [2, "module-enriching_population"]], "remove_duplicates() (data_preparation.epc static method)": [[0, "data_preparation.Epc.remove_duplicates"]], "set_categorical_code() (data_preparation.epc static method)": [[0, "data_preparation.Epc.set_categorical_code"]], "set_geo_lookups() (data_preparation.epc method)": [[0, "data_preparation.Epc.set_geo_lookups"]], "set_geo_lookups() (data_preparation.spenser method)": [[0, "data_preparation.Spenser.set_geo_lookups"]], "set_lookups() (data_preparation.epc method)": [[0, "data_preparation.Epc.set_lookups"]], "set_new_tenure() (data_preparation.spenser method)": [[0, "data_preparation.Spenser.set_new_tenure"]], "set_numerical_code() (data_preparation.epc static method)": [[0, "data_preparation.Epc.set_numerical_code"]], "step() (data_preparation.epc method)": [[0, "data_preparation.Epc.step"]], "step() (data_preparation.spenser method)": [[0, "data_preparation.Spenser.step"]], "enrichingpopulation (class in enriching_population)": [[2, "enriching_population.EnrichingPopulation"]], "enriching_population": [[2, "module-enriching_population"]], "get_enriched_pop() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.get_enriched_pop"]], "get_matches() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.get_matches"]], "get_neighbors() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.get_neighbors"]], "get_propensity_score() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.get_propensity_score"]], "save_csv_files() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.save_csv_files"]], "save_validation_fig() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.save_validation_fig"]], "set_area_factor() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.set_area_factor"]], "set_treatment() (enriching_population.enrichingpopulation static method)": [[2, "enriching_population.EnrichingPopulation.set_treatment"]], "step() (enriching_population.enrichingpopulation method)": [[2, "enriching_population.EnrichingPopulation.step"]]}})